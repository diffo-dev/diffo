defmodule Diffo.Repo.Migrations.SpecificationServiceStateTransitionMap do
  @moduledoc """
  Updates resources based on their most recent snapshots.

  This file was autogenerated with `mix ash_postgres.generate_migrations`
  """

  use Ecto.Migration

  def up do
    alter table(:specifications) do
      remove(:service_state_transitions)
      add(:service_state_transition_map, :map)
    end
  end

  def down do
    alter table(:specifications) do
      remove(:service_state_transition_map)

      add(:service_state_transitions, :binary,
        default:
          "[initial: :feasibilityChecked, initial: :reserved, initial: :inactive, initial: :active, initial: :cancelled, feasibilityChecked: :reserved, feasibilityChecked: :inactive, feasibilityChecked: :active, feasibilityChecked: :cancelled, reserved: :inactive, reserved: :active, reserved: :cancelled, inactive: :active, inactive: :terminated, active: :inactive, active: :suspended, active: :terminated, suspended: :active, suspended: :terminated]"
      )
    end
  end
end
